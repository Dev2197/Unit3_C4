<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <style>
      #container{
        display: flex;
      }
      #sidebar{
        flex : 2;
        border: 1px solid black;
      }
      #main{
        flex : 8;
        border: 1px solid black;
      }
      #main > div> p{
        width: 800px;
      }
      img{
        width: 800px;
      }
      #sidebar > div{
        margin-top: 10px;
      }
      #searchbar{
        margin-top: 10px;
      }
    </style>
  </head>

  <body>
    <!--DO NOT CHANGE THIS ID's-->

    <div id="container">
      <div id="sidebar">
        <!--add your sidebar component here-->
      </div>

      <div id="main">
        <!--DO NOT CHANGE THIS ID's-->
        <!--Show the clicked article in detailed format here ONLY-->
      </div>
    </div>
  </body>
</html>

<script type="module">
  import sidebar from "./components/sidebar.js";
  

  let sidebar_div = document.getElementById('sidebar');
  sidebar_div.innerHTML = sidebar();

  let article = JSON.parse(localStorage.getItem("article"));
  console.log(article);

  let div = document.createElement("div");

  let title = document.createElement('p');
  title.textContent = article.title;

  let desc = document.createElement('p');
  desc.textContent = article.description;

  let cont = document.createElement('p');
  cont.textContent = article.content;

  let image = document.createElement('img');
  image.src = article.urlToImage;

  div.append(title,image,desc,cont);

  document.getElementById('main').append(div);

  let input = document.getElementById('searchbar');

  input.addEventListener("keypress",(e)=>{
    console.log("e",e)

    if(e.code == "Enter")
    {
      let input_value = document.getElementById('searchbar').value;  
      localStorage.setItem("search_term",input_value);

      window.location.href = "search.html";
    }
  });
  
</script>
